<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Online IDE &amp; Emulator for the advanced ReTi</title>
        <!-- EXTERNAL -->
        <link rel="stylesheet" href="../codemirror/lib/codemirror.css">
        <link rel="stylesheet" href="../codemirror/addon/lint.css">
        <link rel="stylesheet" href="../codemirror/theme/monokai.css">
        <link rel="stylesheet" href="../codemirror/theme/solarized.css">
        <link rel="stylesheet" href="../codemirror/theme/neat.css">
        <link rel="stylesheet" href="../codemirror/theme/material-darker.css">
        <script src="../codemirror/lib/codemirror.js"></script>
        <script src="../codemirror/mode/reti_simple.js"></script>
        <script src="../codemirror/mode/clike.js"></script>
        <script src="../codemirror/addon/lint.js"></script>
        <script src="../jquery.min.js"></script>
        <!-- EEEEEEEEEE -->
        <script src="https://unpkg.com/konva@8.3.5/konva.min.js"></script>
        <!-- MY STUFF -->
        <link type="text/css" rel="stylesheet" href="style.css"/>
        <script type="module" src="global_vars.js"></script>
        <script type="module" src="run_code.js"></script>
        <script type="module" src="simple_reti_emulator.js"></script>
        <script type="module" src="controls.js"></script>
    </head>

    <body>
        <div id="toolbar">
            <div class="toolbar-item">
                <span>Clock speed</span>
                <input type="number" id="clockspeed" value="5" min="1" max="50"/>
                <span>Start/Pause</span>
                <input type="button" id="run" value="Run"/>
                <input type="button" id="stop" value="Pause"/>
                <input type="button" name="step" id="backward" value="< Step" hidden/>
                <input type="button" name="step" id="forward" value="Step >" hidden/>
            </div>
            <div class="toolbar-item">
                <span>Show Numbers as</span>
                <select id="number-base-selector">
                    <option>Binary</option>
                    <option selected>Decimal</option>
                    <option>Hexadecimal</option>
                </select>
                <!--<input type="checkbox" id="decimal-selector" name="checkbox" value="false"/> -->
            </div>
            <div class="toolbar-item">
                <!-- <span>UART Data</span>
                <input type="text" id="uart-data" value="112,192,0,42,112,0,0,0"/> -->
                <span>Mode:</span>
                <input type="radio" id="simple" name="retiMode" checked>
                <label for="simple">Einfache ReTI (TI)</label>
                <input type="radio" id="advanced" name="retiMode">
                <label for="advanced">Erweiterte ReTI (Betriebssysteme)</label>
            </div>
            <div class="toolbar-item">
                <span>Theme</span>
                <select id="theme-selector">
                    <option selected>monokai</option>
                    <option>material-darker</option>
                    <option>solarized</option>
                    <option>neat</option>
                </select>
            </div>
            <div class="toolbar-item error">
                <span id="status-message"></span>
            </div>
        </div>
        <textarea id="code-window"></textarea>

        <div class="state-window">
            <div class="register-container">
                <p id="instruction-counter">Instruction </p>
                <p id="instruction-decoded">None</p>
            </div>
            <div class="register-container">
                <div class="register-item">
                    <span>PC</span>
                    <p id="register-value-pc">0</p>
                </div>
                <div class="register-item">
                    <span>IN1</span>
                    <p id="register-value-in1">0</p>
                </div>
                <div class="register-item">
                    <span>IN2</span>
                    <p id="register-value-in2">0</p>
                </div>
                <div class="register-item">
                    <span>ACC</span>
                    <p id="register-value-acc">0</p>
                </div>
            </div>
            <div class="memory-container">
                <div class="memory-item-1">
                    <span>SRAM</span>
                    <table>
                        <tr id="sram-table">
                            <th>ADDR</th>
                            <th>DATA</th>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

        <div id="sources">
            <b>Simple ReTI IDE &amp; Emulator</b>
            | <a id="source-code-link" href="https://github.com/michel-giehl/Reti-Emulator">Source code</a>
        </div>
    </body> 
</html>